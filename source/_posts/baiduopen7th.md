# 百度技术开放日7th

title: 百度技术开放日7th
date: 2019-04-05 14:59:30
tags: [会议] 
categories: [技术]

------

* [百度技术开放日7th](#%E7%99%BE%E5%BA%A6%E6%8A%80%E6%9C%AF%E5%BC%80%E6%94%BE%E6%97%A57th)
  * [0\. 抵达](#0-%E6%8A%B5%E8%BE%BE)
  * [1\. 开场](#1-%E5%BC%80%E5%9C%BA)
  * [2\. 架构优化与设计](#2-%E6%9E%B6%E6%9E%84%E4%BC%98%E5%8C%96%E4%B8%8E%E8%AE%BE%E8%AE%A1)
  * [3 统一前端入口 （Baidu Front End, BFD）](#3-%E7%BB%9F%E4%B8%80%E5%89%8D%E7%AB%AF%E5%85%A5%E5%8F%A3-baidu-front-end-bfd)
  * [4\. 极端并发下的数据库解决方案](#4-%E6%9E%81%E7%AB%AF%E5%B9%B6%E5%8F%91%E4%B8%8B%E7%9A%84%E6%95%B0%E6%8D%AE%E5%BA%93%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88)
  * [5\. 弹性部署和资源调度](#5-%E5%BC%B9%E6%80%A7%E9%83%A8%E7%BD%B2%E5%92%8C%E8%B5%84%E6%BA%90%E8%B0%83%E5%BA%A6)
  * [6\. 媒体在云平台上的解决方案](#6-%E5%AA%92%E4%BD%93%E5%9C%A8%E4%BA%91%E5%B9%B3%E5%8F%B0%E4%B8%8A%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88)
  * [7\. 研发效率](#7-%E7%A0%94%E5%8F%91%E6%95%88%E7%8E%87)
  * [8\. 压测攻防](#8-%E5%8E%8B%E6%B5%8B%E6%94%BB%E9%98%B2)
  * [X\. 小结和疑问](#x-%E5%B0%8F%E7%BB%93%E5%92%8C%E7%96%91%E9%97%AE)



## 0. 抵达

一开始的时候，说会议地点在中关村，还没反应过来，到了现场后才发现，这不是大计基老师曾带我们来参观过吗——还记得当时在园区里走了半天累得脚痛。

![](https://counter2015.com/picture/open-1.jpg) 

会议开始是10点，在外面用手机签了个到，进去后发现有9成以上的位置都有人坐着了，随便在后排找了个位置，开始看暖(zi)场(chui)视频



## 1. 开场

主持人简单介绍了下，就开始了。主题是围绕着春晚红包的并发来弄的。

首先开场自吹一波中国技术人员的两个共识

- 百度是一家以技术为导向的公司
- 百度的技术在国内最强(阿里/腾讯/头条： ？？？)

讲了下技术积累，这点确保了春晚不宕机。

然后回顾往昔，讲了下05年的时候，贴吧当时还是超女特别火，那是的代码都是C写的，顺便悼念了下学生时代的ASP。

讲了下春晚红包的互动次数208亿，扩容能在分钟级别内部署完毕，为了确保春晚抢红包**如丝般顺滑的体验**采取了以下应对措施

- 点击路径的优化
- 技术积累
- 工程保障

## 2. 架构优化与设计

需求：承载极端TPS 每秒千万

巨型化方案 VS SET化方案

采用后者，优点是可以防止故障扩散，并且将巨型的分布式系统分化成多个大型分布式系统



异步消息队列 VS 同步实时读写

用户抢到红包需要立刻查看自己的金额，因而为了确保用户<del>如丝般顺滑的(同样的话说两次也不是一个好的笑话)</del>体验，采用后者，同时使用记录日志的方式确保数据不会被遗失



其他要点将在后面分别细讲

- 视频搜索
- 小程序的预加载降低了CDN的压力
- 登录和Session的保持
- 多重校验机制
- 统一接入层（BFE）入口

压测

- 全链路 入口全
- 全要素 通盘考虑所有情况
- 内测/预案/演练

拦截黑产2.6亿次<del>防止自己被薅羊毛</del>



## 3 统一前端入口 （Baidu Front End, BFD）

![](https://counter2015.com/picture/open-2.jpg) 



编程语言的选择：全球先进的go语言(说到了至少三次)，而不是C with Nginx，确保了高效的开发效率

支持多种协议

- HTTP
- HTTPS
- HTTP2
- QUIC

这有三个都是基于HTTP的好吧。。。

为什么使用统一的前端入口接入

- 网络资源的统一管理
- 功能的统一开发
- 方便流量过滤逻辑上移
- 平台化的趋势

讲完这个已经11：00了，不知道是不是因为超时了，讲的特别快，内容也没有想象的丰富。

## 4. 极端并发下的数据库解决方案

![](https://counter2015.com/picture/open-3.jpg) 

汉字顺序的并影响不阅读

容灾采用的是南北双数据中心

当负载过高时使用柔性降级

对流量做标记和画像

将的比较宽泛，台下这时候大概都觉得累了，掌声没有之前那么响了

## 5. 弹性部署和资源调度

讲的是如何精打细算利用手头的计算资源，就是春晚抢红包时把其他不重要的业务（百度外卖？）降级，腾出资源。

服务器混合部署，将集群划分为三类，在线/离线/备用。

## 6. 媒体在云平台上的解决方案

难点在于2000PB+的图片视频的转码和分发

灰度上线

## 7. 研发效率

一月6日启动，30日开发完成

具体可以参考百度工程能力白皮书

程序员压力也不大吗.jpg <del>虽然这位做的是产品效率方面的</del>

![](https://counter2015.com/picture/open-4.jpg) 

## 8. 压测攻防

听到这我实在时没力气记录了,东西收拾好准备跑路

## X. 小结和疑问

吐槽

- 干货少，感觉有意淡化技术名词的出现，只是将大概的思路却不具体剖析实践过程，“技术开放日”名不副实
- 思路类似，太阳底下没有新鲜事
- 无互动，本来还期待能有提问环节的，这种讲座没有提问到最后真是听的人昏昏欲睡
- 不给发PPT，PPT的配色实在时不敢恭维，深蓝色背景加LOGO，丑到爆炸
- 座位后边有一瓶水，本来自己的水喝完了口渴准备拆开了的，结果发现划痕明显，定睛一看没有生产日期，立刻不敢喝了

想问的问题

- 如何确保拦截的是黑产而不是普通用户，判断标准是什么？

- 怎么实现的柔性降级？

- 为什么能在1分钟内扩容后台服务，这里包括服务启动的时间吗？

总体而言感觉一般般，逼格无法匹配其业界体量(或者说本来就不想具体说明技术细节)